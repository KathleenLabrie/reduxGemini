#!/usr/bin/env python

"""
Setup script for reduxGemini

reduxGemini is a collection of reduction tools, reduction scripts,
reduction cookbooks, etc, focusing on the reduction of Gemini data.

Usage:
  python setup.py install --prefix=<somewhere>
  python setup.py sdist (to make the tar file)
"""

from distutils.core import setup
import sys
import os.path
import re

MODULENAME = 'reduxGemini'

# PACKAGES and PACKAGE_DIRS
SUBMODULES = ['gmos']
PACKAGES = [MODULENAME]
for m in SUBMODULES:
    PACKAGES.append('.'.join([MODULENAME, m]))
PACKAGE_DIRS = {}
PACKAGE_DIRS[MODULENAME] = MODULENAME

# PACKAGE_DATA
PACKAGE_DATA = {}
PACKAGE_DATA[MODULENAME] = []
#for s in ['.']+SUBMODULES:
#    PACKAGE_DATA[MODULENAME].extend([os.path.join(s, 'filename'),
#                                     ])

# DATA_DIRS and DATA_FILES
DATA_FILES = []
DOC_DIR = os.path.join('share', 'reduxGemini')
for root, dirs, files in os.walk('doc'):
    dest = root.split('/',1)[1] if len(root.split('/',1)) > 1 else ""
    DOC_FILES = map((lambda f: os.path.join(root, f)), files)
    DATA_FILES.append((os.path.join(DOC_DIR,dest), DOC_FILES))

# SCRIPTS
SCRIPTS = []

REDUXGEMINI_SCRIPTS = []
GMOS_SCRIPTS = [ os.path.join(MODULENAME+'/gmos/scripts', 'fgmosLS'),
                ]
REDUXGEMINI_SCRIPTS.extend(GMOS_SCRIPTS)

SCRIPTS.extend(REDUXGEMINI_SCRIPTS)

EXTENSIONS = None

setup ( name = 'reduxGemini',
        version = '0.1.0',
        description = 'Reduction tools and documentations for Gemini Data',
        author = 'Kathleen Labrie',
        author_email = 'kathleen.labrie.phd@gmail.com',
        url = 'http://github.com/KathleenLabrie',
        maintainer = 'Kathleen Labrie',
        packages = PACKAGES,
        package_dir = PACKAGE_DIRS,
        package_data = PACKAGE_DATA,
        data_files = DATA_FILES,
        scripts = SCRIPTS,
        ext_modules = EXTENSIONS,
        classifiers = [
                       'Development Status :: Alpha',
                       'Intended Audience :: Shared-Risk Gemini Users',
                       'Operating System :: Linux :: Mac OS X',
                       'Programming Language :: Python',
                       'Topic :: Gemini',
                       'Topic :: Data Reduction',
                       'Topic :: Astronomy',
                       ],
      )



